<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>TON MINE</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Arial', sans-serif;
            -webkit-tap-highlight-color: transparent;
            -webkit-user-select: none;
            user-select: none;
            touch-action: manipulation;
        }
        
        html, body {
            overflow: hidden;
            height: 100%;
        }
        
        body {
            background-color: #0f1014;
            color: #ffffff;
            height: 100vh;
            display: flex;
            flex-direction: column;
            transition: background-color 0.3s, color 0.3s;
            position: fixed;
            width: 100%;
        }
        
        body.light-mode {
            background-color: #f5f5f5;
            color: #333333;
        }
        
        .header {
            background: linear-gradient(135deg, #0088cc 0%, #006699 100%);
            padding: 15px;
            text-align: center;
            font-weight: bold;
            font-size: 1.2rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.3);
        }
        
        .theme-switch {
            position: relative;
            display: inline-block;
            width: 50px;
            height: 24px;
        }
        
        .theme-switch input {
            opacity: 0;
            width: 0;
            height: 0;
        }
        
        .slider {
            position: absolute;
            cursor: pointer;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: #1a1c23;
            transition: .4s;
            border-radius: 24px;
        }
        
        .slider:before {
            position: absolute;
            content: "";
            height: 16px;
            width: 16px;
            left: 4px;
            bottom: 4px;
            background-color: white;
            transition: .4s;
            border-radius: 50%;
        }
        
        input:checked + .slider {
            background-color: #0088cc;
        }
        
        input:checked + .slider:before {
            transform: translateX(26px);
        }
        
        .content {
            flex: 1;
            padding: 20px;
            overflow-y: auto;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            position: relative;
            width: 100%;
        }
        
        .section-content {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            width: 100%;
            max-width: 400px;
            margin: 0 auto;
        }
        
        .counter {
            font-size: 2.8rem;
            font-weight: bold;
            margin-bottom: 25px;
            font-family: 'Courier New', monospace;
            color: #00ff9d;
            text-shadow: 0 0 10px rgba(0, 255, 157, 0.3);
            text-align: center;
        }
        
        .light-mode .counter {
            color: #0088cc;
            text-shadow: 0 0 10px rgba(0, 136, 204, 0.3);
        }
        
        /* Animación de minería */
        .mining-animation {
            width: 160px;
            height: 160px;
            margin-bottom: 30px;
            position: relative;
            background: url('https://cryptologos.cc/logos/toncoin-ton-logo.png') center/contain no-repeat;
            filter: drop-shadow(0 0 15px rgba(0, 255, 157, 0.5));
            animation: pulse 3s infinite ease-in-out;
        }
        
        @keyframes pulse {
            0% { transform: scale(1); opacity: 0.9; }
            50% { transform: scale(1.05); opacity: 1; }
            100% { transform: scale(1); opacity: 0.9; }
        }
        
        /* Botón de minería */
        .mining-btn {
            background: linear-gradient(135deg, #00ff9d 0%, #0088cc 100%);
            color: white;
            border: none;
            padding: 16px 45px;
            border-radius: 30px;
            font-weight: bold;
            font-size: 1.1rem;
            cursor: pointer;
            margin-bottom: 30px;
            box-shadow: 0 4px 20px rgba(0, 255, 157, 0.4);
            transition: all 0.3s;
            text-transform: uppercase;
            letter-spacing: 1px;
            width: 100%;
            max-width: 300px;
        }
        
        .mining-btn:disabled {
            background: #2d2f3a;
            color: #a0a0a0;
            cursor: not-allowed;
            box-shadow: none;
        }
        
        .light-mode .mining-btn:disabled {
            background: #d0d0d0;
            color: #666666;
        }
        
        .mining-status {
            font-size: 1.1rem;
            color: #00ff9d;
            margin-bottom: 30px;
            text-align: center;
            font-weight: bold;
            text-shadow: 0 0 5px rgba(0, 255, 157, 0.3);
        }
        
        .light-mode .mining-status {
            color: #0088cc;
            text-shadow: 0 0 5px rgba(0, 136, 204, 0.3);
        }
        
        /* Navigation */
        .navigation {
            display: flex;
            background-color: #1a1c23;
            border-top: 1px solid #2d2f3a;
            position: fixed;
            bottom: 0;
            width: 100%;
        }
        
        .light-mode .navigation {
            background-color: #e0e0e0;
            border-top: 1px solid #d0d0d0;
        }
        
        .nav-item {
            flex: 1;
            padding: 16px 0;
            text-align: center;
            color: #a0a0a0;
            text-decoration: none;
            font-size: 0.9rem;
            transition: all 0.3s;
        }
        
        .light-mode .nav-item {
            color: #666666;
        }
        
        .nav-item.active {
            color: #0088cc;
        }
        
        .light-mode .nav-item.active {
            color: #0088cc;
        }
        
        .nav-item i {
            display: block;
            font-size: 1.6rem;
            margin-bottom: 5px;
        }
        
        .hidden {
            display: none;
        }
        
        /* Sección Billetera (aumentada) */
        .wallet-card {
            background: rgba(26, 28, 35, 0.8);
            padding: 25px;
            border-radius: 15px;
            width: 100%;
            max-width: 350px;
            border: 1px solid rgba(0, 255, 157, 0.2);
            margin-bottom: 20px;
        }
        
        .wallet-row {
            display: flex;
            justify-content: space-between;
            margin-bottom: 18px;
            font-size: 1.1rem;
        }
        
        .wallet-label {
            color: #a0a0a0;
        }
        
        .wallet-value {
            color: #00ff9d;
            font-weight: bold;
        }
        
        .light-mode .wallet-value {
            color: #0088cc;
        }
        
        /* Sección Referidos */
        .referral-card {
            background: rgba(26, 28, 35, 0.8);
            padding: 25px;
            border-radius: 15px;
            width: 100%;
            max-width: 350px;
            border: 1px solid rgba(0, 255, 157, 0.2);
            text-align: center;
            font-size: 1.1rem;
            line-height: 1.5;
        }
        
        /* Sección Máquinas (aumentada) */
        .machines-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 18px;
            width: 100%;
            max-width: 400px;
            margin-bottom: 80px;
        }
        
        .machine-card {
            background: rgba(26, 28, 35, 0.8);
            padding: 18px;
            border-radius: 12px;
            text-align: center;
            border: 1px solid rgba(0, 255, 157, 0.1);
        }
        
        .machine-name {
            font-size: 1.2rem;
            margin-bottom: 8px;
            color: #0088cc;
            font-weight: bold;
        }
        
        .machine-profit {
            font-size: 1rem;
            margin-bottom: 8px;
            color: #00ff9d;
        }
        
        .machine-price {
            font-size: 0.95rem;
            margin-bottom: 12px;
            color: #a0a0a0;
        }
        
        .machine-btn {
            background: linear-gradient(135deg, #00ff9d 0%, #0088cc 100%);
            color: white;
            border: none;
            padding: 10px;
            border-radius: 8px;
            width: 100%;
            font-size: 0.95rem;
            cursor: pointer;
            transition: all 0.2s;
        }
        
        .machine-btn:disabled {
            background: #2d2f3a;
            color: #a0a0a0;
            cursor: not-allowed;
        }
        
        /* Modal styles */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.8);
            z-index: 1000;
            justify-content: center;
            align-items: center;
        }
        
        .modal-content {
            background-color: #1a1c23;
            padding: 25px;
            border-radius: 15px;
            width: 90%;
            max-width: 380px;
            border: 1px solid #2d2f3a;
            box-shadow: 0 5px 30px rgba(0, 0, 0, 0.5);
        }
        
        .modal-title {
            font-size: 1.3rem;
            margin-bottom: 20px;
            color: #0088cc;
            text-align: center;
            font-weight: bold;
        }
        
        .modal-buttons {
            display: flex;
            gap: 12px;
            margin-top: 25px;
        }
        
        .btn {
            padding: 12px;
            border-radius: 8px;
            border: none;
            font-weight: bold;
            cursor: pointer;
            flex: 1;
            font-size: 1rem;
        }
        
        .btn-primary {
            background: linear-gradient(135deg, #00ff9d 0%, #0088cc 100%);
            color: white;
        }
        
        .btn-secondary {
            background-color: #2d2f3a;
            color: white;
        }
    </style>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
</head>
<body>
    <div class="header">
        <span>TON MINE</span>
        <label class="theme-switch">
            <input type="checkbox" id="theme-toggle">
            <span class="slider"></span>
        </label>
    </div>
    
    <div class="content">
        <!-- Home Section -->
        <div id="home-section" class="section-content">
            <div class="counter" id="ton-counter">0.000000</div>
            <div class="mining-animation"></div>
            <div class="mining-status" id="mining-status">MINERÍA INACTIVA</div>
            <button class="mining-btn" id="mining-btn">COMENZAR MINERÍA GRATIS</button>
        </div>
        
        <!-- Wallet Section -->
        <div id="wallet-section" class="section-content hidden">
            <h2 style="margin-bottom: 25px; font-size: 1.5rem;">Tu Billetera</h2>
            <div class="wallet-card">
                <div class="wallet-row">
                    <span class="wallet-label">Balance:</span>
                    <span class="wallet-value" id="wallet-balance">0.000000 TON</span>
                </div>
                <div class="wallet-row">
                    <span class="wallet-label">Invertido:</span>
                    <span class="wallet-value">0.000000 TON</span>
                </div>
                <div class="wallet-row">
                    <span class="wallet-label">Ganancias:</span>
                    <span class="wallet-value">0.000000 TON</span>
                </div>
                <button class="mining-btn" id="withdraw-btn" style="margin-top: 15px;">Retirar</button>
            </div>
        </div>
        
        <!-- Referrals Section -->
        <div id="referrals-section" class="section-content hidden">
            <h2 style="margin-bottom: 25px; font-size: 1.5rem;">Programa de Referidos</h2>
            <div class="referral-card">
                Invita a tus amigos a generar ganancias con TON MINE y gana 0.02 USD por cada amigo que se una al proyecto. Para ver tu enlace de referidos dirígete al botón de Amigos en el bot.
            </div>
        </div>
        
        <!-- Machines Section -->
        <div id="machines-section" class="section-content hidden">
            <h2 style="margin-bottom: 25px; font-size: 1.5rem; text-align: center;">Máquinas de Minería</h2>
            <div class="machines-grid">
                <div class="machine-card">
                    <div class="machine-name">Básica</div>
                    <div class="machine-profit">3% diario</div>
                    <div class="machine-price">1.0 TON</div>
                    <button class="machine-btn" id="basic-machine-btn">Comprar</button>
                </div>
                
                <div class="machine-card">
                    <div class="machine-name">Normal</div>
                    <div class="machine-profit">5% diario</div>
                    <div class="machine-price">1.5 TON</div>
                    <button class="machine-btn" id="normal-machine-btn">Comprar</button>
                </div>
                
                <div class="machine-card">
                    <div class="machine-name">Avanzada</div>
                    <div class="machine-profit">8% diario</div>
                    <div class="machine-price">2.5 TON</div>
                    <button class="machine-btn" id="advanced-machine-btn">Comprar</button>
                </div>
                
                <div class="machine-card">
                    <div class="machine-name">Premium</div>
                    <div class="machine-profit">10% diario</div>
                    <div class="machine-price">3.5 TON</div>
                    <button class="machine-btn" id="premium-machine-btn">Comprar</button>
                </div>
            </div>
        </div>
    </div>
    
    <!-- Payment Modal -->
    <div class="modal" id="payment-modal">
        <div class="modal-content">
            <div class="modal-title">Confirmar Pago</div>
            <p style="text-align: center; margin-bottom: 20px;">¿Has realizado el pago correctamente?</p>
            <div class="modal-buttons">
                <button class="btn btn-secondary" id="cancel-payment">Cancelar</button>
                <button class="btn btn-primary" id="confirm-payment">Pago Realizado</button>
            </div>
        </div>
    </div>
    
    <div class="navigation">
        <a href="#" class="nav-item active" data-section="home-section">
            <i class="fas fa-server"></i>
            <span>Minería</span>
        </a>
        <a href="#" class="nav-item" data-section="wallet-section">
            <i class="fas fa-wallet"></i>
            <span>Billetera</span>
        </a>
        <a href="#" class="nav-item" data-section="referrals-section">
            <i class="fas fa-users"></i>
            <span>Referidos</span>
        </a>
        <a href="#" class="nav-item" data-section="machines-section">
            <i class="fas fa-cubes"></i>
            <span>Máquinas</span>
        </a>
    </div>

    <script>
        // Load saved theme preference
        const savedTheme = localStorage.getItem('theme');
        if (savedTheme === 'light') {
            document.body.classList.add('light-mode');
            document.getElementById('theme-toggle').checked = true;
        }
        
        // Theme toggle functionality
        document.getElementById('theme-toggle').addEventListener('change', function() {
            if (this.checked) {
                document.body.classList.add('light-mode');
                localStorage.setItem('theme', 'light');
            } else {
                document.body.classList.remove('light-mode');
                localStorage.setItem('theme', 'dark');
            }
        });
        
        // Mining functionality
        const miningBtn = document.getElementById('mining-btn');
        const miningStatus = document.getElementById('mining-status');
        const counterElement = document.getElementById('ton-counter');
        const walletBalanceElement = document.getElementById('wallet-balance');
        
        let counterValue = parseFloat(localStorage.getItem('tonCounter')) || 0;
        let isMiningActive = localStorage.getItem('miningActive') === 'true';
        let lastUpdate = parseInt(localStorage.getItem('lastUpdate')) || Date.now();
        let miningInterval;
        const earningsPerSecond = 1 / (24 * 60 * 60); // 1 TON per day
        
        // Initialize mining state
        function initializeMining() {
            if (isMiningActive) {
                startMining();
            } else {
                updateDisplay();
            }
        }
        
        // Mining button click handler
        miningBtn.addEventListener('click', () => {
            if (!isMiningActive) {
                startMining();
                localStorage.setItem('miningActive', 'true');
            }
        });
        
        function startMining() {
            isMiningActive = true;
            miningBtn.textContent = 'MINERÍA ACTIVADA';
            miningBtn.disabled = true;
            miningStatus.textContent = 'MINERÍA ACTIVA - 1.0 TON/DÍA';
            
            // Calculate earnings based on time passed
            const timePassed = (Date.now() - lastUpdate) / 1000;
            counterValue += timePassed * earningsPerSecond;
            
            // Update counter immediately
            updateDisplay();
            
            // Start the mining interval
            miningInterval = setInterval(() => {
                counterValue += earningsPerSecond;
                updateDisplay();
                localStorage.setItem('tonCounter', counterValue);
                localStorage.setItem('lastUpdate', Date.now());
            }, 1000);
        }
        
        function updateDisplay() {
            counterElement.textContent = counterValue.toFixed(6);
            walletBalanceElement.textContent = counterValue.toFixed(6) + ' TON';
            lastUpdate = Date.now();
        }
        
        // Initialize on load
        initializeMining();
        
        // Navigation functionality
        const navItems = document.querySelectorAll('.nav-item');
        const sections = document.querySelectorAll('.section-content');
        
        navItems.forEach(item => {
            item.addEventListener('click', (e) => {
                e.preventDefault();
                
                // Remove active class from all items
                navItems.forEach(navItem => {
                    navItem.classList.remove('active');
                });
                
                // Add active class to clicked item
                item.classList.add('active');
                
                // Hide all sections
                sections.forEach(section => {
                    section.classList.add('hidden');
                });
                
                // Show selected section
                const sectionId = item.getAttribute('data-section');
                document.getElementById(sectionId).classList.remove('hidden');
            });
        });
        
        // Machine purchase functionality
        const machineButtons = [
            document.getElementById('basic-machine-btn'),
            document.getElementById('normal-machine-btn'),
            document.getElementById('advanced-machine-btn'),
            document.getElementById('premium-machine-btn')
        ];
        
        const paymentModal = document.getElementById('payment-modal');
        const cancelPayment = document.getElementById('cancel-payment');
        const confirmPayment = document.getElementById('confirm-payment');
        let currentMachineButton = null;
        
        machineButtons.forEach(button => {
            button.addEventListener('click', () => {
                paymentModal.style.display = 'flex';
                currentMachineButton = button;
            });
        });
        
        cancelPayment.addEventListener('click', () => {
            paymentModal.style.display = 'none';
        });
        
        confirmPayment.addEventListener('click', () => {
            paymentModal.style.display = 'none';
            if (currentMachineButton) {
                currentMachineButton.textContent = 'Verificando pago...';
                currentMachineButton.disabled = true;
                
                // Simulate verification delay
                setTimeout(() => {
                    currentMachineButton.textContent = 'Máquina activa';
                }, 2000);
            }
        });
        
        // Prevent scrolling
        document.addEventListener('touchmove', function(e) {
            e.preventDefault();
        }, { passive: false });
    </script>
</body>
</html>
